import{Q as V,a as G}from"./QBtn-Bv2gfNeZ.js";import{a as u,F as K,f as O,g as x,c as N,r as v,k as X,o as J,h as l,T as Y,w as Z,i as k,e as f,l as ee,b as te,_ as ie,x as ae,y as ne,z as se,G as a,B as T,D as B,C as z}from"./index-CPXikXrU.js";import{v as p,h as Q}from"./use-router-link-NhoxgnfX.js";const oe={ratio:[String,Number]};function re(e,t){return u(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}function R(){let e=null;const t=x();function n(){e!==null&&(clearTimeout(e),e=null)}return K(n),O(n),{removeTimeout:n,registerTimeout(s,o){n(),p(t)===!1&&(e=setTimeout(()=>{e=null,s()},o))}}}const le=1.7778,j=N({name:"QImg",props:{...oe,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:le},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const s=v(e.initialRatio),o=re(e,s),c=x(),{registerTimeout:h,removeTimeout:r}=R(),{registerTimeout:w,removeTimeout:C}=R(),b=u(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),H=u(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),d=[v(null),v(b.value)],m=v(0),_=v(!1),y=v(!1),I=u(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),L=u(()=>({width:e.width,height:e.height})),P=u(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),F=u(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function A(){if(C(),e.loadingShowDelay===0){_.value=!0;return}w(()=>{_.value=!0},e.loadingShowDelay)}function q(){C(),_.value=!1}function M({target:i}){p(c)===!1&&(r(),s.value=i.naturalHeight===0?.5:i.naturalWidth/i.naturalHeight,D(i,1))}function D(i,g){g===1e3||p(c)===!0||(i.complete===!0?U(i):h(()=>{D(i,g+1)},50))}function U(i){p(c)!==!0&&(m.value=m.value^1,d[m.value].value=null,q(),i.getAttribute("__qerror")!=="true"&&(y.value=!1),n("load",i.currentSrc||i.src))}function W(i){r(),q(),y.value=!0,d[m.value].value=H.value,d[m.value^1].value=b.value,n("error",i)}function $(i){const g=d[i].value,S={key:"img_"+i,class:P.value,style:F.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return m.value===i?Object.assign(S,{class:S.class+"current",onLoad:M,onError:W}):S.class+="loaded",l("div",{class:"q-img__container absolute-full",key:"img"+i},l("img",S))}function E(){return _.value===!1?l("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Q(t[y.value===!0?"error":"default"])):l("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[l(V,{color:e.spinnerColor,size:e.spinnerSize})])}{let i=function(){Z(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,g=>{r(),y.value=!1,g===null?(q(),d[m.value^1].value=b.value):A(),d[m.value].value=g},{immediate:!0})};X.value===!0?J(i):i()}return()=>{const i=[];return o.value!==null&&i.push(l("div",{key:"filler",style:o.value})),d[0].value!==null&&i.push($(0)),d[1].value!==null&&i.push($(1)),i.push(l(Y,{name:"q-transition--fade"},E)),l("div",{key:"main",class:I.value,style:L.value,role:"img","aria-label":e.alt},i)}}}),ue=N({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=x(),s=k(ee,f);if(s===f)return console.error("QPage needs to be a deep child of QLayout"),f;if(k(te,f)===f)return console.error("QPage needs to be child of QPageContainer"),f;const c=u(()=>{const r=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof e.styleFn=="function"){const w=s.isContainer.value===!0?s.containerHeight.value:n.screen.height;return e.styleFn(r,w)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-r+"px":n.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":n.screen.height-r+"px"}}),h=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>l("main",{class:h.value,style:c.value},Q(t.default))}}),ce="/Ai-game/assets/ico1-BorSIfXH.png",de={name:"IndexPage",data(){return{user:{id:"",first_name:"User",last_name:"",username:"",language_code:"",is_premium:!1,photo_url:""},platform:"",version:"",colorScheme:"",isExpanded:!1,viewportHeight:0,currentTime:null}},methods:{formatRuDate(e){const t=["","Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],n=new Date(e),s=n.toLocaleDateString("ru-RU",{weekday:"short"}),o=s.charAt(0).toUpperCase()+s.slice(1),c=n.getDate(),h=n.getMonth()+1;return`${o}, ${c} ${t[h]}`}},mounted(){if(this.currentTime=this.formatRuDate(Date.now()),window.Telegram&&Telegram.WebApp&&Telegram.WebApp.initDataUnsafe.user){const e=Telegram.WebApp,t=e.initDataUnsafe.user;this.user={id:t.id,first_name:t.first_name||"",last_name:t.last_name||"",username:t.username||"",language_code:t.language_code||"",is_premium:t.is_premium||!1,photo_url:t.photo_url||""},this.platform=e.platform,this.version=e.version,this.colorScheme=e.colorScheme,this.isExpanded=e.isExpanded,this.viewportHeight=e.viewportHeight,e.expand(),e.disableVerticalSwipes()}}},me={class:"row q-pl-md q-pr-md q-pt-md justify-between items-center"},ge={class:"h1-ai"},ve={class:"q-pl-md q-pr-md currentTime"},fe={class:"justify-between q-pl-md q-pr-md q-pt-md"},he={class:"square-round"},_e={class:"row justify-between items-center"},ye={class:"col",style:{"max-width":"90px","border-radius":"20px",overflow:"hidden"}},Se={class:"justify-between q-pl-md q-pr-md q-pt-md"},pe={class:"row"},we={class:"col"},be={class:"square-round"},qe={class:"row justify-between items-center"},Te={style:{width:"50px"}};function xe(e,t,n,s,o,c){return ne(),ae(ue,null,{default:se(()=>[a("div",me,[a("div",ge,"Привет, "+B(o.user.first_name)+"!",1),T(G,{flat:"",round:"",dense:"",class:"dark-white-color",icon:"eva-bell"})]),a("div",ve,B(o.currentTime),1),a("div",fe,[a("div",he,[a("div",_e,[t[0]||(t[0]=a("div",{class:"col-auto"},[a("div",{class:"h2-ai"},"Mini Web App"),a("div",{class:"h2-sub-ai"},"Приложения в Telegram"),a("div",{class:"q-mt-sm"},[a("div",{class:"square-round-mini"},[z("От "),a("span",{class:"text-positive"},"50 000"),z(" рублей")])])],-1)),a("div",ye,[T(j,{src:"https://picsum.photos/500/300",ratio:1})])])])]),a("div",Se,[a("div",pe,[a("div",we,[a("div",be,[a("div",qe,[t[1]||(t[1]=a("div",null,[a("div",{class:"h2-ai"},"CRM")],-1)),a("div",Te,[T(j,{src:ce,ratio:1})])])])]),t[2]||(t[2]=a("div",{class:"col-auto"},[a("div",{style:{width:"16px"}})],-1)),t[3]||(t[3]=a("div",{class:"col"},[a("div",{class:"square-round"},[a("div",{class:"row justify-between items-center"},[a("div",{class:"col-auto"},[a("div",{class:"h2-ai"},"Магазин")])])])],-1))])])]),_:1})}const ke=ie(de,[["render",xe]]);export{ke as default};
