import{Q as h}from"./QBtn-CiUp9BV8.js";import{c as g,g as f,i as m,e as i,a as u,h as _,l as y,b as v,_ as w,x,y as q,z as C,F as o,B as D,D as l}from"./index-D58dHFaY.js";import{h as b}from"./use-router-link-Dcg-jTPp.js";const z=g({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:s}}=f(),n=m(y,i);if(n===i)return console.error("QPage needs to be a deep child of QLayout"),i;if(m(v,i)===i)return console.error("QPage needs to be child of QPageContainer"),i;const c=u(()=>{const r=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const p=n.isContainer.value===!0?n.containerHeight.value:s.screen.height;return e.styleFn(r,p)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-r+"px":s.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":s.screen.height-r+"px"}}),d=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>_("main",{class:d.value,style:c.value},b(t.default))}}),F={name:"IndexPage",data(){return{user:{id:"",first_name:"",last_name:"",username:"",language_code:"",is_premium:!1,photo_url:""},platform:"",version:"",colorScheme:"",isExpanded:!1,viewportHeight:0,currentTime:null,motion:{x:0,y:0,z:0}}},methods:{formatRuDate(e){const t=["","Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],s=new Date(e),n=s.toLocaleDateString("ru-RU",{weekday:"short"}),a=n.charAt(0).toUpperCase()+n.slice(1),c=s.getDate(),d=s.getMonth()+1;return`${a}, ${c} ${t[d]}`},handleMotion(e){e.accelerationIncludingGravity&&(this.motion.x=e.accelerationIncludingGravity.x||0,this.motion.y=e.accelerationIncludingGravity.y||0,this.motion.z=e.accelerationIncludingGravity.z||0)}},mounted(){if(this.currentTime=this.formatRuDate(Date.now()),window.Telegram&&Telegram.WebApp&&Telegram.WebApp.initDataUnsafe.user){const e=Telegram.WebApp,t=e.initDataUnsafe.user;this.user={id:t.id,first_name:t.first_name||"",last_name:t.last_name||"",username:t.username||"",language_code:t.language_code||"",is_premium:t.is_premium||!1,photo_url:t.photo_url||""},this.platform=e.platform,this.version=e.version,this.colorScheme=e.colorScheme,this.isExpanded=e.isExpanded,this.viewportHeight=e.viewportHeight,e.expand(),e.setSwipeBackAllowed(!1),e.setupSwipeBehavior?.({allow_vertical_swipe:!1}),e.enableClosingConfirmation(),window.DeviceMotionEvent?window.addEventListener("devicemotion",this.handleMotion):console.warn("DeviceMotionEvent не поддерживается")}}},$={class:"row q-pl-md q-pr-md q-pt-md justify-between items-center"},B={class:"q-pl-md q-pr-md currentTime"},Q={class:"justify-between q-pl-md q-pr-md q-pt-md"},S={class:"square-round"},T={class:"q-my-sm"},k={class:"q-my-sm"},E={class:"q-my-sm"};function H(e,t,s,n,a,c){return q(),x(z,null,{default:C(()=>[o("div",$,[t[0]||(t[0]=o("div",{class:"h1-ai"},"Hi, Emily!",-1)),D(h,{flat:"",round:"",dense:"",class:"dark-white-color",icon:"eva-bell"})]),o("div",B,l(a.currentTime),1),o("div",Q,[o("div",S,[t[1]||(t[1]=o("div",{class:"text-h6 q-mt-lg"},"🛰 Движение (реалтайм):",-1)),o("div",T,"x: "+l(a.motion.x.toFixed(2)),1),o("div",k,"y: "+l(a.motion.y.toFixed(2)),1),o("div",E,"z: "+l(a.motion.z.toFixed(2)),1)])])]),_:1})}const G=w(F,[["render",H]]);export{G as default};
